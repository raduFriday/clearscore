{"ast":null,"code":"import _objectSpread from \"/Users/radu.silaghi/Documents/Projects/clearscore/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/radu.silaghi/Documents/Projects/clearscore/src/App.js\";\nimport React, { Component } from 'react';\nimport IdeasList from './Components/IdeasList';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ideasList: {}\n    };\n    this.handleChangeContent = this.handleChangeContent.bind(this);\n  }\n\n  componentDidMount() {\n    this.hydrateStateWithLocalStorage();\n  }\n\n  hydrateStateWithLocalStorage() {\n    // for all items in state\n    // const ideasList = JSON.parse(localStorage.getItem('ideasList'));\n    for (let key in this.state) {\n      // if the key exists in localStorage\n      if (localStorage.hasOwnProperty(key)) {\n        // get the key's value from localStorage\n        let value = localStorage.getItem(key); // parse the localStorage string and setState\n\n        try {\n          value = JSON.parse(value);\n          this.setState({\n            [key]: value\n          });\n        } catch (e) {\n          // handle empty string\n          this.setState({\n            [key]: value\n          });\n        }\n      }\n    }\n  }\n\n  addIdea() {\n    const ideas = _objectSpread({}, this.state.ideasList);\n\n    const timestamp = new Date().getTime();\n    const options = {\n      hour12: true,\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\"\n    };\n    const time = new Date().toLocaleTimeString(\"en-US\", options);\n    ideas['idea-' + timestamp] = {\n      title: '',\n      text: '',\n      time: [time]\n    };\n    this.setState({\n      ideasList: ideas\n    });\n  }\n\n  clearIdeas() {\n    this.setState({\n      ideasList: {}\n    });\n    localStorage.clear();\n  }\n\n  handleChangeContent(idea, evt, type) {\n    const ideasList = _objectSpread({}, this.state.ideasList);\n\n    if (type === 'title') {\n      ideasList[idea].title = evt.target.value;\n    } else if (type === 'text') {\n      ideasList[idea].text = evt.target.value;\n    }\n\n    this.setState({\n      ideasList: ideasList\n    });\n    localStorage.setItem('ideasList', JSON.stringify(this.state.ideasList));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button\",\n      onClick: () => {\n        this.addIdea();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Add Idea\"), React.createElement(IdeasList, {\n      ideas: this.state.ideasList,\n      handleChangeContent: this.handleChangeContent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button\",\n      onClick: () => {\n        this.clearIdeas();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Clear Ideas\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/radu.silaghi/Documents/Projects/clearscore/src/App.js"],"names":["React","Component","IdeasList","App","constructor","props","state","ideasList","handleChangeContent","bind","componentDidMount","hydrateStateWithLocalStorage","key","localStorage","hasOwnProperty","value","getItem","JSON","parse","setState","e","addIdea","ideas","timestamp","Date","getTime","options","hour12","hour","minute","second","time","toLocaleTimeString","title","text","clearIdeas","clear","idea","evt","type","target","setItem","stringify","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport IdeasList from './Components/IdeasList';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ideasList: {}\n    }\n    this.handleChangeContent = this.handleChangeContent.bind(this);\n  }\n  componentDidMount() {\n    this.hydrateStateWithLocalStorage();\n  }\n  hydrateStateWithLocalStorage() {\n    // for all items in state\n    // const ideasList = JSON.parse(localStorage.getItem('ideasList'));\n    for (let key in this.state) {\n      // if the key exists in localStorage\n      if (localStorage.hasOwnProperty(key)) {\n        // get the key's value from localStorage\n        let value = localStorage.getItem(key);\n\n        // parse the localStorage string and setState\n        try {\n          value = JSON.parse(value);\n          this.setState({ [key]: value });\n        } catch (e) {\n          // handle empty string\n          this.setState({ [key]: value });\n        }\n      }\n    }\n  }\n\n  addIdea() {\n    const ideas = {...this.state.ideasList};\n    const timestamp = (new Date()).getTime();\n    const options = {\n      hour12 : true,\n      hour:  \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\"\n    }\n    const time = new Date().toLocaleTimeString(\"en-US\",options);\n    ideas['idea-' + timestamp ] = {title: '', text: '', time:[time]};\n    this.setState({ ideasList : ideas });\n  }\n  clearIdeas() {\n    this.setState({ideasList: {}})\n    localStorage.clear();\n  }\n  handleChangeContent(idea ,evt, type) {\n    const ideasList = {...this.state.ideasList}\n    if (type === 'title') {\n      ideasList[idea].title = evt.target.value\n    } else if (type === 'text') {\n      ideasList[idea].text = evt.target.value\n    }\n    this.setState({\n      ideasList: ideasList\n    });\n    localStorage.setItem('ideasList', JSON.stringify(this.state.ideasList));\n  }\n\n  render () {\n    return (\n      <div className='container'>\n        <div className=\"logo\"></div>\n        <button className=\"button\" onClick={() => {this.addIdea()}}>Add Idea</button>\n        <IdeasList \n          ideas={this.state.ideasList}\n          handleChangeContent={this.handleChangeContent}\n        />\n        <button className=\"button\" onClick={() => {this.clearIdeas()}}>Clear Ideas</button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}